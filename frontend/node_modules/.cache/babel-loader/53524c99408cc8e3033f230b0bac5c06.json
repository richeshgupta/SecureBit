{"ast":null,"code":"var _jsxFileName = \"/home/richeshgupta/Desktop/SecureBit/frontend/src/Pages/home.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport settings from \"../assets/settings.png\";\nimport logoutPng from \"../assets/logout.png\";\nimport { UserAvatar, ProfileModal } from \"./homeComponents\";\nimport { store } from \"../stateManagement/store\";\nimport Loader from \"../components/loader\";\nimport { logout } from \"./authController\";\nimport UsersList from \"./usersList\";\nimport ChatInterface from \"./chatInterface\";\nimport menu from \"../assets/menu.svg\";\nimport close from \"../assets/close.svg\";\n\nconst Home = props => {\n  const [showProfile, setShowProfile] = useState(false);\n  const [profileClosable, setProfileClosable] = useState(true);\n  const [userdetail, setUserDetail] = useState(null);\n  const [activeUser, setActiveUser] = useState(null);\n  const [showProfileModal, setShowProfileModal] = useState(false);\n  const {\n    state: {\n      userDetail,\n      activeChatUser\n    }\n  } = useContext(store);\n  useEffect(() => {\n    if (userDetail !== userdetail) {\n      setUserDetail(userDetail);\n\n      if (!userDetail.first_name) {\n        setShowProfile(true);\n        setProfileClosable(false);\n      }\n    }\n\n    if (activeUser !== activeChatUser) {\n      setActiveUser(activeChatUser);\n      closeSideBar();\n    }\n\n    console.log(activeChatUser);\n  }, [userDetail, activeChatUser]);\n\n  if (!userdetail) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"centerAll\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  const toggleSideBar = () => {\n    const sideBar = document.getElementById(\"sideBar\");\n\n    if (sideBar.classList.contains(\"close\")) {\n      sideBar.classList.remove(\"close\");\n    } else {\n      sideBar.classList.add(\"close\");\n    }\n  };\n\n  const closeSideBar = () => {\n    const sideBar = document.getElementById(\"sideBar\");\n\n    if (!sideBar.classList.contains(\"close\")) {\n      sideBar.classList.add(\"close\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ProfileModal, Object.assign({}, props, {\n    close: () => setShowProfile(false),\n    userDetail: userdetail,\n    visible: showProfile,\n    closable: profileClosable,\n    setClosable: () => setProfileClosable(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  })), activeUser && /*#__PURE__*/React.createElement(ProfileModal, Object.assign({}, props, {\n    close: () => setShowProfileModal(false),\n    userDetail: activeChatUser,\n    visible: showProfileModal,\n    closable: true,\n    setClosable: () => null,\n    view: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"side close\",\n    id: \"sideBar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex align-center justify-between top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(UserAvatar, {\n    noStatus: true,\n    isV2: true,\n    name: `${userdetail.first_name || \"\"} ${userdetail.last_name || \"\"}`,\n    profilePicture: userdetail.profile_picture ? userdetail.profile_picture.file_upload : \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: settings,\n    onClick: () => {\n      setShowProfile(true);\n      closeSideBar();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 20\n    }\n  }, \"\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"img\", {\n    src: close,\n    alt: \"\",\n    onClick: toggleSideBar,\n    style: {\n      width: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(UsersList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logout\",\n    onClick: () => logout(props),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logoutPng,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logout-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, \"logout\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mobile overlay\",\n    onClick: toggleSideBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, activeUser ? /*#__PURE__*/React.createElement(ChatInterface, {\n    activeUser: activeUser,\n    loggedUser: userdetail,\n    toggleSideBar: toggleSideBar,\n    showProfileModal: showProfileModal,\n    setShowProfileModal: setShowProfileModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heading mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"100%\"\n    },\n    className: \"flex align-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: menu,\n    alt: \"\",\n    onClick: toggleSideBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }), \"\\xA0\\xA0\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"noUser\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, \"Select User to start chatting.\")))));\n};\n\nexport default Home;","map":{"version":3,"sources":["/home/richeshgupta/Desktop/SecureBit/frontend/src/Pages/home.js"],"names":["React","useState","useContext","useEffect","settings","logoutPng","UserAvatar","ProfileModal","store","Loader","logout","UsersList","ChatInterface","Home","props","showProfile","setShowProfile","profileClosable","setProfileClosable","userdetail","setUserDetail","activeUser","setActiveUser","showProfileModal","setShowProfileModal","state","userDetail","activeChatUser","first_name","closeSideBar","console","log","toggleSideBar","sideBar","document","getElementById","classList","contains","remove","add","last_name","profile_picture","file_upload","close","width","height","menu"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\n\nimport settings from \"../assets/settings.png\";\n\nimport logoutPng from \"../assets/logout.png\";\nimport { UserAvatar, ProfileModal } from \"./homeComponents\";\nimport { store } from \"../stateManagement/store\";\nimport Loader from \"../components/loader\";\nimport { logout } from \"./authController\";\nimport UsersList from \"./usersList\";\nimport ChatInterface from \"./chatInterface\";\nimport menu from \"../assets/menu.svg\";\nimport close from \"../assets/close.svg\";\n\nconst Home = (props) => {\n  const [showProfile, setShowProfile] = useState(false);\n  const [profileClosable, setProfileClosable] = useState(true);\n  const [userdetail, setUserDetail] = useState(null);\n  const [activeUser, setActiveUser] = useState(null);\n  const [showProfileModal, setShowProfileModal] = useState(false)\n\n  const {\n    state: { userDetail, activeChatUser },\n  } = useContext(store);\n\n  useEffect(() => {\n    if (userDetail !== userdetail) {\n      setUserDetail(userDetail);\n      if (!userDetail.first_name) {\n        setShowProfile(true);\n        setProfileClosable(false);\n      }\n    }\n\n    if (activeUser !== activeChatUser) {\n      setActiveUser(activeChatUser);\n      closeSideBar();\n    }\n    console.log(activeChatUser)\n  }, [userDetail, activeChatUser]);\n\n  if (!userdetail) {\n    return (\n      <div className=\"centerAll\">\n        <Loader />\n      </div>\n    );\n  }\n\n  const toggleSideBar = () => {\n    const sideBar = document.getElementById(\"sideBar\")\n    if(sideBar.classList.contains(\"close\")){\n      sideBar.classList.remove(\"close\")\n    }\n    else{\n      sideBar.classList.add(\"close\")\n    }\n  }\n\n  const closeSideBar = () => {\n    const sideBar = document.getElementById(\"sideBar\")\n    if(!sideBar.classList.contains(\"close\")){\n      sideBar.classList.add(\"close\")\n    }\n  }\n\n\n\n  return (\n    <>\n      <ProfileModal\n        {...props}\n        close={() => setShowProfile(false)}\n        userDetail={userdetail}\n        visible={showProfile}\n        closable={profileClosable}\n        setClosable={() => setProfileClosable(true)}\n      />\n\n      {\n        activeUser && <ProfileModal\n            {...props}\n            close={() => setShowProfileModal(false)}\n            userDetail={activeChatUser}\n            visible={showProfileModal}\n            closable={true}\n            setClosable={() => null}\n            view\n        />\n      }\n\n      <div className=\"home-container\">\n\n        <div className=\"side close\" id=\"sideBar\">\n\n          <div className=\"flex align-center justify-between top\">\n            <UserAvatar\n              noStatus\n              isV2\n              name={`${userdetail.first_name || \"\"} ${\n                userdetail.last_name || \"\"\n              }`}\n              profilePicture={userdetail.profile_picture ? userdetail.profile_picture.file_upload : \"\"}\n            />\n            <div>\n              <img src={settings} onClick={() => {\n                setShowProfile(true);\n                closeSideBar();\n              }} /><div className=\"mobile\">\n              &nbsp;&nbsp;&nbsp;&nbsp;\n              <img src={close} alt=\"\" onClick={toggleSideBar} style={{width:15}}/>\n            </div>\n            </div>\n          </div>\n\n          <UsersList />\n          <div className=\"logout\" onClick={() => logout(props)}>\n            <img src={logoutPng} />\n            <div className=\"logout-text\">logout</div>\n          </div>\n        </div>\n        <div className=\"mobile overlay\" onClick={toggleSideBar}/>\n\n        <div className=\"main\">\n\n          {activeUser ? (\n            <ChatInterface activeUser={activeUser} loggedUser={userdetail} toggleSideBar={toggleSideBar}\n                           showProfileModal={showProfileModal} setShowProfileModal={setShowProfileModal} />\n          ) : (\n              <div>\n                <div className=\"heading mobile\">\n                  <div style={{height:\"100%\"}} className=\"flex align-center\">\n                    <img src={menu} alt=\"\" onClick={toggleSideBar}/>&nbsp;&nbsp;</div>\n                </div>\n                <div className=\"noUser\">Select User to start chatting.</div>\n              </div>\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}